<html><head><style>body {
   color: black;
}
</style></head><body><h2 id="introduction">Introduction</h2>
<p>This is the user doc for the cloud environment that the Neuroscience Gateway
(NSG) provides for neuroscience tool developers. The SDSC cloud based developer
environment allows neuroscience tool developers to create a suitable instance
on the SDSC cloud and use an image that includes basic software stack and tools
that neuroscience tool developers may use for their tool development work. It
provides:</p>
<ul>
<li>Python 2.7</li>
<li>Python 3</li>
<li>TightVNC</li>
<li>Google Chrome (for use with VNC)</li>
<li>Jupyter</li>
<li>Open MPI 3.1.4</li>
<li>Neuron 7.7</li>
<li>Singularity 3.1.0</li>
</ul>
<p>It allows developers to put software in a Singularity container, connect to a
VNC server, run Jupyter Notebook etc. Based on needs of the neuroscientist tool
developers, other software and features will be provided in the tool development
environment.</p>
<h2 id="getting-started">Getting Started</h2>
<p>Development is done on the SDSC Cloud. To access the cloud dashboard,
follow <a href="https://dashboard.cloud.sdsc.edu/">this link</a>. You will log in
with the username and password given to you by NSG.</p>
<h2 id="adding-an-ssh-key">Adding an SSH Key</h2>
<p>Before launching any instances, you should upload an SSH key so that you can authenticate with them. Navigate to the <strong>Key Pairs</strong> page by going to <strong>Project</strong> -&gt;
<strong>Compute</strong> -&gt; <strong>Key Pairs</strong> in the navigation menu on the left.</p>
<p><img src="res/key_pairs.png" alt="Key pairs page web view"></p>
<p>You can either create a key pair using the dashboard or upload an
existing public key.</p>
<h3 id="create-a-key-pair">Create a Key Pair</h3>
<p>Click <strong>Create Key Pair</strong> on the right side of the screen. Give it any name
that you would like and select <strong>SSH Key</strong> as the key type. Finally, click
<strong>Create Key Pair</strong>. Your browser will automatically download the private key 
for you. You can store the private key anywhere on your computer. 
Remember the location you will need it when you try to SSH into your instance.</p>
<h3 id="upload-a-public-key">Upload a Public Key</h3>
<p>Click <strong>Import Public Key</strong> on the right side of the screen. Give it any name
that you would like and select <strong>SSH Key</strong> as the key type. Then either select
the public key file or paste its contents into the text box. Finally,
click <strong>Import Public Key</strong>.</p>
<h2 id="adding-an-ssh-security-group">Adding an SSH Security Group</h2>
<p><strong>The following section should only be done once per project</strong>\
A security group is a firewall which control outgoing and incoming connections.
Before you are able to use your SSH key to authenticate with an instance,
you will need to set up a security group that will allow SSH connections. </p>
<p>Navigate to the <strong>Security Groups</strong> page. You can do this by going to <strong>Project</strong>
-&gt; <strong>Network</strong> -&gt; <strong>Security Groups</strong> in the navigation menu on the left.</p>
<p><img src="res/security_groups.png" alt="Security group page web view"></p>
<p>Click <strong>Create Security Group</strong> on the right side of the screen. In the popup
window, name the security group &quot;SSH&quot; and then click <strong>Create Security Group</strong>.
Next, click <strong>Add Rule</strong> on the right side of the screen. In the <strong>Rule</strong> 
dropdown, select <strong>SSH</strong>. Click <strong>Add</strong> to add the rule.</p>
<h2 id="launching-a-development-instance">Launching a Development Instance</h2>
<p>Development instances on the SDSC Cloud come prepackaged with software for
development.</p>
<p>Navigate to the <strong>Instances</strong> page.
You can do this by going to <strong>Project</strong> -&gt; <strong>Compute</strong> -&gt; <strong>Instances</strong> in the 
navigation menu on the left.</p>
<p><img src="res/instances_page.png" alt="Instances page web view"></p>
<p>Click <strong>Launch Instance</strong> on the right side of the screen.</p>
<p><img src="res/launch_instance.png" alt="Launch instance page web view"></p>
<p>In the popup window, give your new instance any name you would like.</p>
<p><img src="res/instance_name.png" alt="Instance name"></p>
<p>Click on <strong>Source</strong> on the left. In the dropdown for <strong>Select Boot Source</strong>,
select <strong>Image</strong>. Under the <strong>Available</strong> section, select <strong>NSGImage</strong>. 
You can also search for the image in the search box.
by clicking on the up arrow at the end of the row.</p>
<p><img src="res/instance_source_v2.png" alt="Instance source"></p>
<p>Click on <strong>Flavor</strong> on the left. Select the flavor with the CPU and RAM
configuration that meets your needs by clicking on the up arrow at the end
of the row. For this example, I will use <strong>m1.medium</strong>.</p>
<p><img src="res/instance_flavor.png" alt="Instance flavor"></p>
<p>Click on <strong>Security Groups</strong> on the left. Select the <strong>SSH</strong> security group that you or your group has created earlier by clicking on the up arrow at the end of the row.</p>
<p><img src="res/instance_security_groups.png" alt="Instance security groups"></p>
<p>Click on <strong>Key Pair</strong> on the left. Select the SSH Key that you created earlier
by clicking on the up arrow at the end of the row.</p>
<p><img src="res/instance_key_pair.png" alt="Instance key pair"></p>
<p>Click <strong>Launch Instance</strong> on the bottom right of the popup to finish.</p>
<h3 id="assigning-a-public-ip-address">Assigning a public IP Address</h3>
<p>Your newly created instance will not be able to be reached until you
give it a public IP address by <strong>Associating a Floating IP</strong> with it.
From the instances page. There are 2 options to associate a floating IP
address to an instance. First, will be checking if the project already has available 
IPs to use. Second, will be requesting new IPs if the project does not currently have 
any IPs or all of them are in use.</p>
<p><img src="res/floating_ip.png" alt="Associate floating IP">
Start by finding the instance that you would like to add an
IP to. Click on the dropdown menu under the <strong>Actions</strong> column.
Then select <strong>Associate Floating IP</strong> option</p>
<h3 id="checking-for-existing-floating-ips">Checking for existing Floating IPs</h3>
<p><img src="res/check_floating_ip.png" alt="Associate floating IP"></p>
<p>In the <strong>IP Address</strong> field, click the dropdown arrow.</p>
<p><img src="res/existing_floating_ip.png" alt="Associate floating IP"></p>
<p>Select the IP address from the dropdown menu that you 
would like to use. Then click on the <strong>Associate</strong> button.</p>
<p>If you do not see any IPs in the dropdown menu, the next section 
will cover how to request a new IP</p>
<h3 id="requesting-new-a-ip">Requesting new a IP</h3>
<p><img src="res/add_floating_ip.png" alt="Add floating IP"></p>
<p>In the <strong>IP Address</strong> field, click the + at the end.</p>
<p>In the popup window, click <strong>Allocate IP</strong>. Then click <strong>Associate</strong> in the
bottom right of the popup window.</p>
<p>Your instance should now be accessible at the associated IP address. Note that 
this is the IP address that starts with <strong>132.*</strong> not <strong>10.*</strong> .</p>
<h2 id="connecting-to-an-instance">Connecting to an Instance</h2>
<p>You should be able to connect to your instances using the SSH key that you
selected when created the instance. When connecting to your instance, use
<strong>ubuntu</strong> as your username. <strong>The IP address starts with 132.* is the one you will use to SSH into the instance</strong>
The IP should be the 2nd value in the <strong>IP Address</strong> column on the <strong>Instances</strong> page.</p>
<p><img src="res/instance_ip.png" alt="Instance IP"></p>
<p>For help connecting from Mac or Linux, look <a href="https://sdsc-ucsd.atlassian.net/wiki/spaces/SC/pages/110034993/SSH+to+Instance+using+Mac+and+Linux">here</a>.
For help connecting from Windows, look <a href="https://sdsc-ucsd.atlassian.net/wiki/spaces/SC/pages/110034995/SSH+to+Instance+using+Windows">here</a>.</p>
<h2 id="shelving-an-instance">Shelving an Instance</h2>
<p>Instances should only be kept running when they are being used. When instances
are not in use, they should be <em>shelved</em>. Shelved instances are essentially
paused until they are needed again. Data stays on shelved instances and is
not lost.</p>
<p>From the instances page, find the instance that you would like to shelve.
Click the dropdown arrow at the end of the row and click 
<strong>Shelve Instance</strong>.</p>
<p><img src="res/shelve_instance.png" alt="Add floating IP"></p>
<h2 id="unshelving-an-instance">Unshelving an Instance</h2>
<p>From the instances page, find the instance that you would like to unshelve.
Click the dropdown arrow at the end of the row and click 
<strong>Unshelve Instance</strong>.</p>
<p><img src="res/unshelve_instance.png" alt="Add floating IP"></p>
<h2 id="more-information-and-guides">More Information and Guides</h2>
<p>For more information and guides on how to use the SDSC cloud, see the 
<a href="https://sdsc-ucsd.atlassian.net/wiki/spaces/SC/overview">SDSC Cloud Wiki</a>.</p>
</body></html>